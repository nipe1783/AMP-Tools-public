# AMP-Tools
### Professor: Morteza Lahijanian
### Developed by: Peter Amorese
Auto-grader, visualization, and other tools for ASEN 5254 (Algorithmic Motion Planning) at CU Boulder.

## Navigation

### Build scripts
Two build scripts are included for your convenience. You can call them using `bash`:
```
bash <script_name>.sh
```
 - `build.sh`: Compile your workspace. Flags: `-r` or `--rebuild` rebuilds from scratch.
 - `build_and_run.sh`: Compile your workspace and run your `main.cpp` executable (this script is auto-generated by the `build.sh` script, so make sure to run that one first). Flags: `-r` or `--rebuild` rebuilds from scratch.

After installation, verify the `build_and_run.sh` script works.

**NOTE:** The compiling your workspace will automatically compile the visualizer using your current Python interpreter. Make sure that you installed `requirements.txt` using the same interpreter that your build your project with. Otherwise you may experience missing modules. To check which interpreter you are using: `which python3`. If you switch your interpreter or virtual environment, e.g. `conda deactivate`/`conda activate`, you will need to rebuild from scratch (see flags above).

### Workspace `ws/`
The workspace direction `ws/` is where you will put all of your code. You will find a `main.cpp` file which contains your `main()` function. Feel free to add any headers `.h` and class definition files `.cpp` into that directory. They will automatically be linked to `main.cpp`.

### File IO `file_dump/`
If you are NOT using C++, this is directory contains an `in` and `out` folder for input and output files respectively.

### Include `include/`
This directory includes all of the header files you need. The files contain documentation that will help you understand the classes and methods. Do not edit these files, this will cause build errors.

### Build files `build/`
Here you will find the build artifacts (compiled binaries, etc.). You will generally not need to worry about files in here. If you would like to manually run your `main` executable, you will find it in `build/bin`. 

### Prebuilt executable tools `bin/`
After you build your project for the first time, this directory will automatically be generated. If you are NOT using C++, you can call these executables the generate workspaces, check solutions, etc. Any file input and output for these executables is done through the `file_dump/` directory. When calling the executable, pass the `-h` (e.g. `./generate_problem -h`) flag to see the command line arguments. 

## Release Setup/Installation
Forking the `https://github.com/peteramorese/AMP-Tools-public` is preferred, especially if you would like to commit your changes to GitHub. If you would not like to fork the repository, you can directly clone the repository.

**NOTE:** Please clone via `ssh` protocol if you are not doing so already. The submodule url uses the ssh-protocol, so even if you are able to clone the repository using HTTPS, you will not be able to update the submodule. If you have not setup and/or used a ssh key for github:

Creating an ssh key: https://docs.github.com/en/authentication/connecting-to-github-with-ssh/generating-a-new-ssh-key-and-adding-it-to-the-ssh-agent

Adding the ssh key to your github account: https://docs.github.com/en/authentication/connecting-to-github-with-ssh/adding-a-new-ssh-key-to-your-github-account



Currently supported OS:
 - Ubuntu 20.04 (including WSL Ubuntu 20.04 on Windows)
 - Ubuntu 22.04 (including WSL Ubuntu 22.04 on Windows)
 - macOS x86
 - macOS arm64 

If your OS is not supported, and the project does not compile, please reach out to me (info at the bottom of the page).

---
### Ubuntu (or WSL)
On Ubuntu (or WSL), first install Eigen 3.3.7 (C++ matrix library), and OpenSSL, and the python3 GUI backend

```
sudo apt update
sudo apt install cmake build-essential libeigen3-dev libssl-dev python3-tk
```

Now install the `python3.x-dev` library for your system. To determine which version of python you are using:
```
python3 --version
```
For example, if you see `Python 3.10.6`, install `python3.10-dev`
```
sudo apt install python3.x-dev
```

To make sure you have a suitable version of Eigen
```
pkg-config --modversion eigen3
```
and verify the output is at least `3.3.7` (this should be the case if you are using Ubuntu 20.04 or newer)

Clone the forked repository anywhere you want:
```
git clone <forked AMP-Tools-public repo url>
cd AMP-Tools-public
```

Update the submodules (yaml-cpp)
```
git submodule update --init --recursive
```

Install the python dependencies
```
pip3 install -r requirements.txt 
```

Try building
```
bash build.sh
```

### macOS
Install `homebrew` if you do not already have it
```
/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"
```

Install CMake, Eigen 3.3.7, and OpenSSL. 
```
brew install cmake
brew install eigen
brew install openssl
```
The python headers should already be installed on your system.

Clone the forked repository anywhere you want:
```
git clone <forked AMP-Tools-public repo url>
cd AMP-Tools-public
```

Update the submodules (yaml-cpp)
```
git submodule update --init --recursive
```

Install the python dependencies
```
pip3 install -r requirements.txt 
```

Try building
```
bash build.sh
```

### Troubleshooting (macOS)
#### PythonLibs
The python headers should already be installed, however, if you receive a CMake error similar to
```
CMake Error... Cound NOT find PythonLibs
```
install the PythonLibs
```
brew install python3
```

---
## Issues, bugs, comments
Please feel free to raise issues on the GitHub page as they arise. If you experience an issue and are unsure if it is caused by a bug, don't hesitate to reach out to me at `peter.amorese@colorado.edu`.
